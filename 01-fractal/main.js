(function (exports) {
  'use strict';

  let canvas,
    gl,
    timeLoc,
    lastShift = false,
    mouseStart = [0.0, 0.0],
    mouseEnd = [1000.0, 1000.0],
    mouseStartLoc,
    mouseEndLoc,
    mse = [0.0, 0.0],
    mee = [1000.0, 1000.0],
    canW = 1000,
    canwLoc,
    d = 1000,
    dLoc,
    corner = [0, 0],
    cornerLoc,
    mode = "def";

  function initGL() {
    canvas = document.getElementById("mainCanvas");
    gl = canvas.getContext("webgl2");

    gl.clearColor(0.3, 0.47, 0.8, 1);

    // shaders
    let vs_txt = `#version 300 es
  precision highp float;
  in vec3 InPosition;

  out vec2 DrawPos;
  uniform float Time;
  uniform vec2 MouseStart;
  uniform vec2 MouseEnd;
  uniform float CanW;
  uniform float Dem;
  uniform vec2 Corner;

  float my_mod( float a, float b )
  {
    float n = floor(a / b);

    return a - n * b;
  }

  void main( void )
  {
    vec2 Ms;
    vec2 Me;
    
    Ms = Corner + MouseStart * Dem / CanW;
    Me = Corner + MouseEnd * Dem / CanW;
    float dx = abs(Ms.x - Me.x);
    float dy = abs(Ms.y - Me.y);
    float d = max(dx, dy);

    vec2 pos;

    vec2 c = (min(Ms, Me) + d / 2.0 - CanW / 2.0) * 2.0;
    
    pos = c + InPosition.xy * d * vec2(1, -1);
    pos /= CanW;
    pos.y *= -1.0;
    DrawPos = pos;
    //DrawPos = vec2(0) + vec2(0.3) * InPosition.xy;
    //DrawPos = InPosition.xy;
    //gl_Position = vec4(DrawPos, 0, 1);
    gl_Position = vec4(InPosition.xy, 0, 1);
    //DrawPos = (InPosition.xy) / (my_mod(Time, 20.0));
    //DrawPos = InPosition.xy;
  }
  `;

    let fs_txt = `#version 300 es
  precision highp float;
  
  uniform float Time;
  uniform vec2 MouseStart;
  uniform vec2 MouseEnd;

  in vec2 DrawPos;
  out vec4 OutColor;

  int Julia( vec2 P, vec2 C )
  {
    vec2 b = P, b1;
    int n;

    for (n = 0; n <= 255 && length(b) < 2.0; n++)
      {
        b1 = b;
        b.x = b1.x * b1.x - b1.y * b1.y;
        b.y = 2.0 * b1.x * b1.y;
        
        b += C;
      }

    return n;
  }

  int Mandl( vec2 P )
  {
    vec2 b = P, b1, b0 = P;
    int n;

    for (n = 0; n <= 255 && length(b) < 2.0; n++)
      {
        b1 = b;
        b.x = b1.x * b1.x - b1.y * b1.y;
        b.y = 2.0 * b1.x * b1.y;
        
        b += P;
      }

    return n;
  }

  void main( void )
  {

    int n, tmp;

    //n = Julia(DrawPos, vec2(0.35, 0.39));
    //n = Julia(DrawPos, vec2(sin(Time) * 0.5, cos(Time ) * -0.33));
    n = Julia(DrawPos, vec2(0.35, 0.39) + vec2(sin(Time / 10.0 * 2.0) / 47.0, cos(Time / 10.0 * 2.0) * 0.47));
    //n = Mandl(DrawPos);
    //n = Julia(DrawPos, vec2(sin(MouseStart / 1000.0)));

    OutColor = vec4(6.0 / (float(n) + 0.0), 7.0 / (float(n) + 0.0), 8.0 / (float(n) + 0.0), 1);
    //OutColor = vec4(float(n) / 255.0, float(n) / 150.0, float(n) / 100.0, 1);
    //OutColor = vec4(1.0, 1.0, sin(Time), 1);
    //OutColor = vec4(floor(DrawPos.yx * 10.0) / 10.0, 0, 1);
  }
  `;

    let vs = loadShader(gl.VERTEX_SHADER, vs_txt),
      fs = loadShader(gl.FRAGMENT_SHADER, fs_txt),
      prg = gl.createProgram();

    gl.attachShader(prg, vs);
    gl.attachShader(prg, fs);
    gl.linkProgram(prg);

    if (!gl.getProgramParameter(prg, gl.LINK_STATUS)) {
      let buf = gl.getProgramInfoLog(prg);
      console.log("Program link fail" + buf);
    }
    // vertex buffer
    const size = 1;
    const vertexes = [
      -size,
      size,
      0,
      -size,
      -size,
      0,
      size,
      size,
      0,
      size,
      -size,
      0,
    ];
    const posLoc = gl.getAttribLocation(prg, "InPosition");
    let vertexArray = gl.createVertexArray();
    gl.bindVertexArray(vertexArray);
    let vertexBuffer = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertexes), gl.STATIC_DRAW);
    if (posLoc != -1) {
      gl.vertexAttribPointer(posLoc, 3, gl.FLOAT, false, 0, 0);
      gl.enableVertexAttribArray(posLoc);
    }
    // uniform data

    timeLoc = gl.getUniformLocation(prg, "Time");
    dLoc = gl.getUniformLocation(prg, "Dem");
    mouseStartLoc = gl.getUniformLocation(prg, "MouseStart");
    mouseEndLoc = gl.getUniformLocation(prg, "MouseEnd");
    canwLoc = gl.getUniformLocation(prg, "CanW");
    cornerLoc = gl.getUniformLocation(prg, "Corner");
    gl.getUniformLocation(prg, "centerLoc");

    gl.useProgram(prg);
  }

  // Main render frame function
  function render() {
    //console.log(`Frame ${x++}`);
    gl.clear(gl.COLOR_BUFFER_BIT);

    if (timeLoc != -1) {
      const date = new Date();
      let t =
        date.getMinutes() * 60 +
        date.getSeconds() +
        date.getMilliseconds() / 1000;

      gl.uniform1f(timeLoc, t);
    }
    if (mouseStartLoc != -1 && mouseEndLoc != -1) {
      gl.uniform2fv(mouseStartLoc, new Float32Array(mse));
      gl.uniform2fv(mouseEndLoc, new Float32Array(mee));
    }
    if (canwLoc != -1) {
      let can = document.getElementById("mainCanvas");
      canW = can.clientWidth;

      gl.uniform1f(canwLoc, canW);
    }
    if (dLoc != -1 && lastShift == false) gl.uniform1f(dLoc, d);
    if (cornerLoc != -1 && lastShift == false)
      gl.uniform2fv(cornerLoc, new Float32Array(corner));
    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
  } // End of 'render' function

  //new Float32Array(vertexes)

  // Load and compile shader function
  function loadShader(shaderType, shaderSource) {
    const shader = gl.createShader(shaderType);
    gl.shaderSource(shader, shaderSource);
    gl.compileShader(shader);
    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
      let buf = gl.getShaderInfoLog(shader);
      console.log("Shader compile fail: " + buf);
    }
    return shader;
  } // End of 'loadShader' function

  function mouseDown(event) {
    console.log("down");

    if (lastShift == false && event.shiftKey == true) {
      corner = [
        corner[0] + (Math.min(mouseStart[0], mouseEnd[0]) * d) / canW,
        corner[1] + (Math.min(mouseStart[1], mouseEnd[1]) * d) / canW,
      ];
      //Ms = Corner + MouseStart * Dem / CanW;
      d =
        (Math.max(Math.abs(mse[0] - mee[0]), Math.abs(mse[1] - mee[1])) * d) /
        canW;
      mouseStart = [event.offsetX, event.offsetY];
      console.log("start");
      lastShift = true;
      mode = "zoom";
    } else {
      mode = "move";
    }
    /*
    if (event.shiftKey == true && lastShift == false) {
      mouseStart = [event.clientX, event.clientY];
      console.log("start");
      lastShift = true;
    }
    else if (event.shiftKey == false && lastShift == true) {
      mouseEnd = [event.clientX, event.clientY];
      console.log("end");
      lastShift = false;
      mse = mouseStart;
      mee = mouseEnd;
    }
    */
  }

  function mouseUp(event) {
    console.log("up");

    if (lastShift == true && event.shiftKey == true) {
      mouseEnd = [event.offsetX, event.offsetY];
      console.log("end");
      lastShift = false;

      console.log(`d = ${d}`);
      console.log(`Mouse start = ${mouseStart}`);
      console.log(`Mouse end = ${mouseEnd}`);
      console.log(`Mouse start old = ${mse}`);
      console.log(`Mouse end old = ${mee}`);

      mse = mouseStart;
      mee = mouseEnd;
      mode = "def";
    } else {
      mode = "def";
    }
    /*
    if (event.shiftKey == true && lastShift == false) {
      mouseStart = [event.clientX, event.clientY];
      console.log("start");
      lastShift = true;
    }
    else if (event.shiftKey == false && lastShift == true) {
      mouseEnd = [event.clientX, event.clientY];
      console.log("end");
      lastShift = false;
      mse = mouseStart;
      mee = mouseEnd;
    }
    */
  }

  function mouseMove(event) {
    if (mode == "move") {
      corner[0] -= (event.movementX * d) / canW;
      corner[1] -= (event.movementY * d) / canW;
    }
  }
  window.addEventListener("load", () => {
    initGL();

    let can = document.getElementById("mainCanvas");

    can.addEventListener("mousedown", (event) => {
      mouseDown(event);
      //console.log(event);
    });
    can.addEventListener("mouseup", (event) => {
      mouseUp(event);
      //console.log(event);
    });

    can.addEventListener("mousemove", (event) => {
      mouseMove(event);
      //console.log(event);
    });


    const draw = () => {
      // drawing
      render();

      // animation register
      window.requestAnimationFrame(draw);
    };
    draw();
  });

  exports.initGL = initGL;
  exports.mouseDown = mouseDown;
  exports.mouseMove = mouseMove;
  exports.mouseUp = mouseUp;
  exports.render = render;

  return exports;

})({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgY2FudmFzLFxyXG4gIGdsLFxyXG4gIHRpbWVMb2MsXHJcbiAgbGFzdFNoaWZ0ID0gZmFsc2UsXHJcbiAgbW91c2VTdGFydCA9IFswLjAsIDAuMF0sXHJcbiAgbW91c2VFbmQgPSBbMTAwMC4wLCAxMDAwLjBdLFxyXG4gIG1vdXNlU3RhcnRMb2MsXHJcbiAgbW91c2VFbmRMb2MsXHJcbiAgbXNlID0gWzAuMCwgMC4wXSxcclxuICBtZWUgPSBbMTAwMC4wLCAxMDAwLjBdLFxyXG4gIGNhblcgPSAxMDAwLFxyXG4gIGNhbndMb2MsXHJcbiAgZCA9IDEwMDAsXHJcbiAgZExvYyxcclxuICBjb3JuZXIgPSBbMCwgMF0sXHJcbiAgY29ybmVyTG9jLFxyXG4gIG1vZGUgPSBcImRlZlwiLFxyXG4gIGNlbnRlciA9IFs1MDAsIDUwMF0sXHJcbiAgY2VudGVyTG9jLFxyXG4gIG5ld0NlbnRlciA9IFs1MDAsIDUwMF0sXHJcbiAgeCA9IDA7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdEdMKCkge1xyXG4gIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbkNhbnZhc1wiKTtcclxuICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2wyXCIpO1xyXG5cclxuICBnbC5jbGVhckNvbG9yKDAuMywgMC40NywgMC44LCAxKTtcclxuXHJcbiAgLy8gc2hhZGVyc1xyXG4gIGxldCB2c190eHQgPSBgI3ZlcnNpb24gMzAwIGVzXHJcbiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xyXG4gIGluIHZlYzMgSW5Qb3NpdGlvbjtcclxuXHJcbiAgb3V0IHZlYzIgRHJhd1BvcztcclxuICB1bmlmb3JtIGZsb2F0IFRpbWU7XHJcbiAgdW5pZm9ybSB2ZWMyIE1vdXNlU3RhcnQ7XHJcbiAgdW5pZm9ybSB2ZWMyIE1vdXNlRW5kO1xyXG4gIHVuaWZvcm0gZmxvYXQgQ2FuVztcclxuICB1bmlmb3JtIGZsb2F0IERlbTtcclxuICB1bmlmb3JtIHZlYzIgQ29ybmVyO1xyXG5cclxuICBmbG9hdCBteV9tb2QoIGZsb2F0IGEsIGZsb2F0IGIgKVxyXG4gIHtcclxuICAgIGZsb2F0IG4gPSBmbG9vcihhIC8gYik7XHJcblxyXG4gICAgcmV0dXJuIGEgLSBuICogYjtcclxuICB9XHJcblxyXG4gIHZvaWQgbWFpbiggdm9pZCApXHJcbiAge1xyXG4gICAgdmVjMiBNcztcclxuICAgIHZlYzIgTWU7XHJcbiAgICBcclxuICAgIE1zID0gQ29ybmVyICsgTW91c2VTdGFydCAqIERlbSAvIENhblc7XHJcbiAgICBNZSA9IENvcm5lciArIE1vdXNlRW5kICogRGVtIC8gQ2FuVztcclxuICAgIGZsb2F0IGR4ID0gYWJzKE1zLnggLSBNZS54KTtcclxuICAgIGZsb2F0IGR5ID0gYWJzKE1zLnkgLSBNZS55KTtcclxuICAgIGZsb2F0IGQgPSBtYXgoZHgsIGR5KTtcclxuXHJcbiAgICB2ZWMyIHBvcztcclxuXHJcbiAgICB2ZWMyIGMgPSAobWluKE1zLCBNZSkgKyBkIC8gMi4wIC0gQ2FuVyAvIDIuMCkgKiAyLjA7XHJcbiAgICBcclxuICAgIHBvcyA9IGMgKyBJblBvc2l0aW9uLnh5ICogZCAqIHZlYzIoMSwgLTEpO1xyXG4gICAgcG9zIC89IENhblc7XHJcbiAgICBwb3MueSAqPSAtMS4wO1xyXG4gICAgRHJhd1BvcyA9IHBvcztcclxuICAgIC8vRHJhd1BvcyA9IHZlYzIoMCkgKyB2ZWMyKDAuMykgKiBJblBvc2l0aW9uLnh5O1xyXG4gICAgLy9EcmF3UG9zID0gSW5Qb3NpdGlvbi54eTtcclxuICAgIC8vZ2xfUG9zaXRpb24gPSB2ZWM0KERyYXdQb3MsIDAsIDEpO1xyXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KEluUG9zaXRpb24ueHksIDAsIDEpO1xyXG4gICAgLy9EcmF3UG9zID0gKEluUG9zaXRpb24ueHkpIC8gKG15X21vZChUaW1lLCAyMC4wKSk7XHJcbiAgICAvL0RyYXdQb3MgPSBJblBvc2l0aW9uLnh5O1xyXG4gIH1cclxuICBgO1xyXG5cclxuICBsZXQgZnNfdHh0ID0gYCN2ZXJzaW9uIDMwMCBlc1xyXG4gIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcclxuICBcclxuICB1bmlmb3JtIGZsb2F0IFRpbWU7XHJcbiAgdW5pZm9ybSB2ZWMyIE1vdXNlU3RhcnQ7XHJcbiAgdW5pZm9ybSB2ZWMyIE1vdXNlRW5kO1xyXG5cclxuICBpbiB2ZWMyIERyYXdQb3M7XHJcbiAgb3V0IHZlYzQgT3V0Q29sb3I7XHJcblxyXG4gIGludCBKdWxpYSggdmVjMiBQLCB2ZWMyIEMgKVxyXG4gIHtcclxuICAgIHZlYzIgYiA9IFAsIGIxO1xyXG4gICAgaW50IG47XHJcblxyXG4gICAgZm9yIChuID0gMDsgbiA8PSAyNTUgJiYgbGVuZ3RoKGIpIDwgMi4wOyBuKyspXHJcbiAgICAgIHtcclxuICAgICAgICBiMSA9IGI7XHJcbiAgICAgICAgYi54ID0gYjEueCAqIGIxLnggLSBiMS55ICogYjEueTtcclxuICAgICAgICBiLnkgPSAyLjAgKiBiMS54ICogYjEueTtcclxuICAgICAgICBcclxuICAgICAgICBiICs9IEM7XHJcbiAgICAgIH1cclxuXHJcbiAgICByZXR1cm4gbjtcclxuICB9XHJcblxyXG4gIGludCBNYW5kbCggdmVjMiBQIClcclxuICB7XHJcbiAgICB2ZWMyIGIgPSBQLCBiMSwgYjAgPSBQO1xyXG4gICAgaW50IG47XHJcblxyXG4gICAgZm9yIChuID0gMDsgbiA8PSAyNTUgJiYgbGVuZ3RoKGIpIDwgMi4wOyBuKyspXHJcbiAgICAgIHtcclxuICAgICAgICBiMSA9IGI7XHJcbiAgICAgICAgYi54ID0gYjEueCAqIGIxLnggLSBiMS55ICogYjEueTtcclxuICAgICAgICBiLnkgPSAyLjAgKiBiMS54ICogYjEueTtcclxuICAgICAgICBcclxuICAgICAgICBiICs9IFA7XHJcbiAgICAgIH1cclxuXHJcbiAgICByZXR1cm4gbjtcclxuICB9XHJcblxyXG4gIHZvaWQgbWFpbiggdm9pZCApXHJcbiAge1xyXG5cclxuICAgIGludCBuLCB0bXA7XHJcblxyXG4gICAgLy9uID0gSnVsaWEoRHJhd1BvcywgdmVjMigwLjM1LCAwLjM5KSk7XHJcbiAgICAvL24gPSBKdWxpYShEcmF3UG9zLCB2ZWMyKHNpbihUaW1lKSAqIDAuNSwgY29zKFRpbWUgKSAqIC0wLjMzKSk7XHJcbiAgICBuID0gSnVsaWEoRHJhd1BvcywgdmVjMigwLjM1LCAwLjM5KSArIHZlYzIoc2luKFRpbWUgLyAxMC4wICogMi4wKSAvIDQ3LjAsIGNvcyhUaW1lIC8gMTAuMCAqIDIuMCkgKiAwLjQ3KSk7XHJcbiAgICAvL24gPSBNYW5kbChEcmF3UG9zKTtcclxuICAgIC8vbiA9IEp1bGlhKERyYXdQb3MsIHZlYzIoc2luKE1vdXNlU3RhcnQgLyAxMDAwLjApKSk7XHJcblxyXG4gICAgT3V0Q29sb3IgPSB2ZWM0KDYuMCAvIChmbG9hdChuKSArIDAuMCksIDcuMCAvIChmbG9hdChuKSArIDAuMCksIDguMCAvIChmbG9hdChuKSArIDAuMCksIDEpO1xyXG4gICAgLy9PdXRDb2xvciA9IHZlYzQoZmxvYXQobikgLyAyNTUuMCwgZmxvYXQobikgLyAxNTAuMCwgZmxvYXQobikgLyAxMDAuMCwgMSk7XHJcbiAgICAvL091dENvbG9yID0gdmVjNCgxLjAsIDEuMCwgc2luKFRpbWUpLCAxKTtcclxuICAgIC8vT3V0Q29sb3IgPSB2ZWM0KGZsb29yKERyYXdQb3MueXggKiAxMC4wKSAvIDEwLjAsIDAsIDEpO1xyXG4gIH1cclxuICBgO1xyXG5cclxuICBsZXQgdnMgPSBsb2FkU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIsIHZzX3R4dCksXHJcbiAgICBmcyA9IGxvYWRTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSLCBmc190eHQpLFxyXG4gICAgcHJnID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG5cclxuICBnbC5hdHRhY2hTaGFkZXIocHJnLCB2cyk7XHJcbiAgZ2wuYXR0YWNoU2hhZGVyKHByZywgZnMpO1xyXG4gIGdsLmxpbmtQcm9ncmFtKHByZyk7XHJcblxyXG4gIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcmcsIGdsLkxJTktfU1RBVFVTKSkge1xyXG4gICAgbGV0IGJ1ZiA9IGdsLmdldFByb2dyYW1JbmZvTG9nKHByZyk7XHJcbiAgICBjb25zb2xlLmxvZyhcIlByb2dyYW0gbGluayBmYWlsXCIgKyBidWYpO1xyXG4gIH1cclxuICAvLyB2ZXJ0ZXggYnVmZmVyXHJcbiAgY29uc3Qgc2l6ZSA9IDE7XHJcbiAgY29uc3QgdmVydGV4ZXMgPSBbXHJcbiAgICAtc2l6ZSxcclxuICAgIHNpemUsXHJcbiAgICAwLFxyXG4gICAgLXNpemUsXHJcbiAgICAtc2l6ZSxcclxuICAgIDAsXHJcbiAgICBzaXplLFxyXG4gICAgc2l6ZSxcclxuICAgIDAsXHJcbiAgICBzaXplLFxyXG4gICAgLXNpemUsXHJcbiAgICAwLFxyXG4gIF07XHJcbiAgY29uc3QgcG9zTG9jID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJnLCBcIkluUG9zaXRpb25cIik7XHJcbiAgbGV0IHZlcnRleEFycmF5ID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcclxuICBnbC5iaW5kVmVydGV4QXJyYXkodmVydGV4QXJyYXkpO1xyXG4gIGxldCB2ZXJ0ZXhCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdmVydGV4QnVmZmVyKTtcclxuICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICBpZiAocG9zTG9jICE9IC0xKSB7XHJcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc0xvYywgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc0xvYyk7XHJcbiAgfVxyXG4gIC8vIHVuaWZvcm0gZGF0YVxyXG5cclxuICB0aW1lTG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByZywgXCJUaW1lXCIpO1xyXG4gIGRMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLCBcIkRlbVwiKTtcclxuICBtb3VzZVN0YXJ0TG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByZywgXCJNb3VzZVN0YXJ0XCIpO1xyXG4gIG1vdXNlRW5kTG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByZywgXCJNb3VzZUVuZFwiKTtcclxuICBjYW53TG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByZywgXCJDYW5XXCIpO1xyXG4gIGNvcm5lckxvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcmcsIFwiQ29ybmVyXCIpO1xyXG4gIGNlbnRlckxvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcmcsIFwiY2VudGVyTG9jXCIpO1xyXG5cclxuICBnbC51c2VQcm9ncmFtKHByZyk7XHJcbn1cclxuXHJcbi8vIE1haW4gcmVuZGVyIGZyYW1lIGZ1bmN0aW9uXHJcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgLy9jb25zb2xlLmxvZyhgRnJhbWUgJHt4Kyt9YCk7XHJcbiAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XHJcblxyXG4gIGlmICh0aW1lTG9jICE9IC0xKSB7XHJcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgIGxldCB0ID1cclxuICAgICAgZGF0ZS5nZXRNaW51dGVzKCkgKiA2MCArXHJcbiAgICAgIGRhdGUuZ2V0U2Vjb25kcygpICtcclxuICAgICAgZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvIDEwMDA7XHJcblxyXG4gICAgZ2wudW5pZm9ybTFmKHRpbWVMb2MsIHQpO1xyXG4gIH1cclxuICBpZiAobW91c2VTdGFydExvYyAhPSAtMSAmJiBtb3VzZUVuZExvYyAhPSAtMSkge1xyXG4gICAgZ2wudW5pZm9ybTJmdihtb3VzZVN0YXJ0TG9jLCBuZXcgRmxvYXQzMkFycmF5KG1zZSkpO1xyXG4gICAgZ2wudW5pZm9ybTJmdihtb3VzZUVuZExvYywgbmV3IEZsb2F0MzJBcnJheShtZWUpKTtcclxuICB9XHJcbiAgaWYgKGNhbndMb2MgIT0gLTEpIHtcclxuICAgIGxldCBjYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5DYW52YXNcIik7XHJcbiAgICBjYW5XID0gY2FuLmNsaWVudFdpZHRoO1xyXG5cclxuICAgIGdsLnVuaWZvcm0xZihjYW53TG9jLCBjYW5XKTtcclxuICB9XHJcbiAgaWYgKGRMb2MgIT0gLTEgJiYgbGFzdFNoaWZ0ID09IGZhbHNlKSBnbC51bmlmb3JtMWYoZExvYywgZCk7XHJcbiAgaWYgKGNvcm5lckxvYyAhPSAtMSAmJiBsYXN0U2hpZnQgPT0gZmFsc2UpXHJcbiAgICBnbC51bmlmb3JtMmZ2KGNvcm5lckxvYywgbmV3IEZsb2F0MzJBcnJheShjb3JuZXIpKTtcclxuICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcclxufSAvLyBFbmQgb2YgJ3JlbmRlcicgZnVuY3Rpb25cclxuXHJcbi8vbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhlcylcclxuXHJcbi8vIExvYWQgYW5kIGNvbXBpbGUgc2hhZGVyIGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIGxvYWRTaGFkZXIoc2hhZGVyVHlwZSwgc2hhZGVyU291cmNlKSB7XHJcbiAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHNoYWRlclR5cGUpO1xyXG4gIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNoYWRlclNvdXJjZSk7XHJcbiAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XHJcbiAgICBsZXQgYnVmID0gZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xyXG4gICAgY29uc29sZS5sb2coXCJTaGFkZXIgY29tcGlsZSBmYWlsOiBcIiArIGJ1Zik7XHJcbiAgfVxyXG4gIHJldHVybiBzaGFkZXI7XHJcbn0gLy8gRW5kIG9mICdsb2FkU2hhZGVyJyBmdW5jdGlvblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1vdXNlRG93bihldmVudCkge1xyXG4gIGNvbnNvbGUubG9nKFwiZG93blwiKTtcclxuXHJcbiAgaWYgKGxhc3RTaGlmdCA9PSBmYWxzZSAmJiBldmVudC5zaGlmdEtleSA9PSB0cnVlKSB7XHJcbiAgICBjb3JuZXIgPSBbXHJcbiAgICAgIGNvcm5lclswXSArIChNYXRoLm1pbihtb3VzZVN0YXJ0WzBdLCBtb3VzZUVuZFswXSkgKiBkKSAvIGNhblcsXHJcbiAgICAgIGNvcm5lclsxXSArIChNYXRoLm1pbihtb3VzZVN0YXJ0WzFdLCBtb3VzZUVuZFsxXSkgKiBkKSAvIGNhblcsXHJcbiAgICBdO1xyXG4gICAgLy9NcyA9IENvcm5lciArIE1vdXNlU3RhcnQgKiBEZW0gLyBDYW5XO1xyXG4gICAgZCA9XHJcbiAgICAgIChNYXRoLm1heChNYXRoLmFicyhtc2VbMF0gLSBtZWVbMF0pLCBNYXRoLmFicyhtc2VbMV0gLSBtZWVbMV0pKSAqIGQpIC9cclxuICAgICAgY2FuVztcclxuICAgIG1vdXNlU3RhcnQgPSBbZXZlbnQub2Zmc2V0WCwgZXZlbnQub2Zmc2V0WV07XHJcbiAgICBjb25zb2xlLmxvZyhcInN0YXJ0XCIpO1xyXG4gICAgbGFzdFNoaWZ0ID0gdHJ1ZTtcclxuICAgIG1vZGUgPSBcInpvb21cIjtcclxuICB9IGVsc2Uge1xyXG4gICAgbW9kZSA9IFwibW92ZVwiO1xyXG4gIH1cclxuICAvKlxyXG4gIGlmIChldmVudC5zaGlmdEtleSA9PSB0cnVlICYmIGxhc3RTaGlmdCA9PSBmYWxzZSkge1xyXG4gICAgbW91c2VTdGFydCA9IFtldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZXTtcclxuICAgIGNvbnNvbGUubG9nKFwic3RhcnRcIik7XHJcbiAgICBsYXN0U2hpZnQgPSB0cnVlO1xyXG4gIH1cclxuICBlbHNlIGlmIChldmVudC5zaGlmdEtleSA9PSBmYWxzZSAmJiBsYXN0U2hpZnQgPT0gdHJ1ZSkge1xyXG4gICAgbW91c2VFbmQgPSBbZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WV07XHJcbiAgICBjb25zb2xlLmxvZyhcImVuZFwiKTtcclxuICAgIGxhc3RTaGlmdCA9IGZhbHNlO1xyXG4gICAgbXNlID0gbW91c2VTdGFydDtcclxuICAgIG1lZSA9IG1vdXNlRW5kO1xyXG4gIH1cclxuICAqL1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW91c2VVcChldmVudCkge1xyXG4gIGNvbnNvbGUubG9nKFwidXBcIik7XHJcblxyXG4gIGlmIChsYXN0U2hpZnQgPT0gdHJ1ZSAmJiBldmVudC5zaGlmdEtleSA9PSB0cnVlKSB7XHJcbiAgICBtb3VzZUVuZCA9IFtldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZXTtcclxuICAgIGNvbnNvbGUubG9nKFwiZW5kXCIpO1xyXG4gICAgbGFzdFNoaWZ0ID0gZmFsc2U7XHJcblxyXG4gICAgY29uc29sZS5sb2coYGQgPSAke2R9YCk7XHJcbiAgICBjb25zb2xlLmxvZyhgTW91c2Ugc3RhcnQgPSAke21vdXNlU3RhcnR9YCk7XHJcbiAgICBjb25zb2xlLmxvZyhgTW91c2UgZW5kID0gJHttb3VzZUVuZH1gKTtcclxuICAgIGNvbnNvbGUubG9nKGBNb3VzZSBzdGFydCBvbGQgPSAke21zZX1gKTtcclxuICAgIGNvbnNvbGUubG9nKGBNb3VzZSBlbmQgb2xkID0gJHttZWV9YCk7XHJcblxyXG4gICAgbXNlID0gbW91c2VTdGFydDtcclxuICAgIG1lZSA9IG1vdXNlRW5kO1xyXG4gICAgbW9kZSA9IFwiZGVmXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIG1vZGUgPSBcImRlZlwiO1xyXG4gIH1cclxuICAvKlxyXG4gIGlmIChldmVudC5zaGlmdEtleSA9PSB0cnVlICYmIGxhc3RTaGlmdCA9PSBmYWxzZSkge1xyXG4gICAgbW91c2VTdGFydCA9IFtldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZXTtcclxuICAgIGNvbnNvbGUubG9nKFwic3RhcnRcIik7XHJcbiAgICBsYXN0U2hpZnQgPSB0cnVlO1xyXG4gIH1cclxuICBlbHNlIGlmIChldmVudC5zaGlmdEtleSA9PSBmYWxzZSAmJiBsYXN0U2hpZnQgPT0gdHJ1ZSkge1xyXG4gICAgbW91c2VFbmQgPSBbZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WV07XHJcbiAgICBjb25zb2xlLmxvZyhcImVuZFwiKTtcclxuICAgIGxhc3RTaGlmdCA9IGZhbHNlO1xyXG4gICAgbXNlID0gbW91c2VTdGFydDtcclxuICAgIG1lZSA9IG1vdXNlRW5kO1xyXG4gIH1cclxuICAqL1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbW91c2VNb3ZlKGV2ZW50KSB7XHJcbiAgaWYgKG1vZGUgPT0gXCJtb3ZlXCIpIHtcclxuICAgIGNvcm5lclswXSAtPSAoZXZlbnQubW92ZW1lbnRYICogZCkgLyBjYW5XO1xyXG4gICAgY29ybmVyWzFdIC09IChldmVudC5tb3ZlbWVudFkgKiBkKSAvIGNhblc7XHJcbiAgfVxyXG59XHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XHJcbiAgaW5pdEdMKCk7XHJcblxyXG4gIGxldCBjYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5DYW52YXNcIik7XHJcblxyXG4gIGNhbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldmVudCkgPT4ge1xyXG4gICAgbW91c2VEb3duKGV2ZW50KTtcclxuICAgIC8vY29uc29sZS5sb2coZXZlbnQpO1xyXG4gIH0pO1xyXG4gIGNhbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAoZXZlbnQpID0+IHtcclxuICAgIG1vdXNlVXAoZXZlbnQpO1xyXG4gICAgLy9jb25zb2xlLmxvZyhldmVudCk7XHJcbiAgfSk7XHJcblxyXG4gIGNhbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChldmVudCkgPT4ge1xyXG4gICAgbW91c2VNb3ZlKGV2ZW50KTtcclxuICAgIC8vY29uc29sZS5sb2coZXZlbnQpO1xyXG4gIH0pO1xyXG5cclxuXHJcbiAgY29uc3QgZHJhdyA9ICgpID0+IHtcclxuICAgIC8vIGRyYXdpbmdcclxuICAgIHJlbmRlcigpO1xyXG5cclxuICAgIC8vIGFuaW1hdGlvbiByZWdpc3RlclxyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3KTtcclxuICB9O1xyXG4gIGRyYXcoKTtcclxufSk7XHJcblxyXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUcsTUFBQyxNQUFNLENBQUM7RUFDWCxFQUFFLEVBQUUsQ0FBQztFQUNMLEVBQUUsT0FBTyxDQUFDO0VBQ1YsRUFBRSxTQUFTLEdBQUcsS0FBSyxDQUFDO0VBQ3BCLEVBQUUsVUFBVSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0VBQzFCLEVBQUUsUUFBUSxHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0VBQzlCLEVBQUUsYUFBYSxDQUFDO0VBQ2hCLEVBQUUsV0FBVyxDQUFDO0VBQ2QsRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7RUFDbkIsRUFBRSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7RUFDekIsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDO0VBQ2QsRUFBRSxPQUFPLENBQUM7RUFDVixFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7RUFDWCxFQUFFLElBQUksQ0FBQztFQUNQLEVBQUUsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0VBQ2xCLEVBQUUsU0FBUyxDQUFDO0VBQ1osRUFBRSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBSVA7QUFDUjtFQUNPLFNBQVMsTUFBTSxHQUFHO0VBQ3pCLEVBQUUsTUFBTSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7RUFDakQsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNuQztFQUNBLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNuQztFQUNBO0VBQ0EsRUFBRSxJQUFJLE1BQU0sR0FBRyxDQUFDO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLENBQUMsQ0FBQztBQUNKO0VBQ0EsRUFBRSxJQUFJLE1BQU0sR0FBRyxDQUFDO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLENBQUMsQ0FBQztBQUNKO0VBQ0EsRUFBRSxJQUFJLEVBQUUsR0FBRyxVQUFVLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUM7RUFDL0MsSUFBSSxFQUFFLEdBQUcsVUFBVSxDQUFDLEVBQUUsQ0FBQyxlQUFlLEVBQUUsTUFBTSxDQUFDO0VBQy9DLElBQUksR0FBRyxHQUFHLEVB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
